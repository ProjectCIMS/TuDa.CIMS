@using TuDa.CIMS.Shared.Entities
@*ShoppingCart SubmitPopup WorkingGroup Selection*@
<MudItem Class="d-flex align-items-center">
    @*<EditForm EditContext="editContext">
        <DataAnnotationsValidator/>
        Immediate="true"
        Required="true"
        CoerceValue="@coerceValue"
        ResetValueOnEmptyText="true"
        For="@(() => choice.SelectedBuyer)"
        Validation="@(()=>BuyerIsValid=editContext.Validate())"*@
    <MudForm @ref="form">
    <MudAutocomplete T="Person"
                     Label="Käufer"
                     Value="Buyer"
                     ValueChanged="OnBuyerChanged"
                     SearchFunc="@Search"
                     ToStringFunc="@ToString"
                     Disabled="@((WorkingGroup is null))"
                     Immediate="true"
                     Required="true"
                     Validation="@(() => ValidateBuyer)">

        <ItemTemplate>
            <MudItem Class="d-flex align-items-center">
                <MudIconButton Icon="@Icons.Material.Outlined.Info" Class="mr-2">
                </MudIconButton>
                <MudText>@context.Name</MudText>
            </MudItem>
        </ItemTemplate>
    </MudAutocomplete>
    </MudForm>
    @*</EditForm>*@
</MudItem>
