@using TuDa.CIMS.Shared.Entities
@* Submit Popup *@
<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">Arbeitsgruppe ausw√§hlen</MudText>
    </TitleContent>
    <DialogContent>
        <MudContainer>
            <MudGrid Justify="Justify.SpaceBetween">
                <MudItem Class="d-flex align-items-center" Style="margin-bottom: 300px;">
                    <MudAutocomplete T="WorkingGroup"
                                     Label="Professor"
                                     @bind-Value="WorkingGroup"
                                     SearchFunc="@Search"
                                     ToStringFunc="@ToString">
                        <ItemTemplate>
                            <MudItem Class="d-flex align-items-center">
                                <MudIconButton Icon="@Icons.Material.Outlined.Info" Class="mr-2">
                                </MudIconButton>
                                <MudText>@context.Professor.Name</MudText>
                            </MudItem>
                        </ItemTemplate>
                    </MudAutocomplete>
                </MudItem>
                <MudItem>
                    <!-- Purchase List -->
                    <MudPaper Height="300px" Width="400px" Style="overflow-y: auto;">
                        <MudContainer>
                            <MudStack Spacing="2">
                                <MudText Typo="Typo.body1" Class="mb-2" Style="font-weight: bold; text-align: left;">
                                    Produktliste
                                </MudText>
                                @foreach (var purchaseEntry in PurchaseEntries)
                                {
                                    <MudItem Class="d-flex align-items-center">
                                        <MudIconButton Icon="@Icons.Material.Outlined.Info" Class="mr-2">
                                        </MudIconButton>
                                        <MudItem>
                                            <MudText>@purchaseEntry.AssetItem.Name</MudText>
                                            <MudText Class="text-secondary">
                                                @GetPriceText(@purchaseEntry.AssetItem)
                                            </MudText>
                                        </MudItem>
                                    </MudItem>
                                }
                            </MudStack>
                        </MudContainer>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">Ok</MudButton>
    </DialogActions>
</MudDialog>
