@using TuDa.CIMS.Shared.Entities.Enums
@* AssetItemCreateForm *@

<MudSnackbarProvider/>

<!-- Modal Body -->
<MudChipSet T="AssetItemType" @bind-SelectedValue="_selectedAssetItemType" CheckMark SelectionMode="@_selectionMode"
            Class="my-4">
    <MudChip Color="Color.Primary" Value="AssetItemType.Chemical">
        Chemikalie
    </MudChip>
    <MudChip Color="Color.Secondary" Value="AssetItemType.Consumable">
        Verbrauchsmaterial
    </MudChip>
    <MudChip Color="Color.Info" Value="AssetItemType.GasCylinder">
        Gasflasche
    </MudChip>
    <MudChip Color="Color.Success" Value="AssetItemType.Solvent">
        Lösung
    </MudChip>
</MudChipSet>

<MudGrid>
    <MudItem xs="12" md="6">
        <AssetItemForm @ref="_assetItemForm"
                       FormName="@Name"
                       FormNote="@Note"
                       FormShop="@Shop"
                       FormItemNumber="@ItemNumber"
                       FormPrice="@Price"
                       FormRoom="Room"
                       FormShowError="ShowError"
                       OnReset="ResetInputs"/>
    </MudItem>

    <!-- Which Form to Choose -->
    <MudItem xs="12" md="6">
        @switch (_selectedAssetItemType)
        {
            case AssetItemType.Chemical:
                <ChemicalItemForm
                    @ref="_chemicalItemForm"
                    FormCas="@Cas"
                    FormPurity="@Purity"
                    FormBindingSize="@BindingSize"
                    FormPriceUnit="@PriceUnit"
                    FormShowError="ShowError"/>
                break;
            case AssetItemType.Consumable:
                <ConsumableItemForm
                    @ref="_consumableItemForm"
                    FormManufacturer="@Manufacturer"
                    FormSerialNumber="@SerialNumber"
                    FormConsumableAmount="@ConsumableAmount"
                    FormShowError="ShowError"/>
                break;
            case AssetItemType.GasCylinder:
                <ChemicalItemForm
                    @ref="_chemicalItemForm"
                    FormCas="@Cas"
                    FormPurity="@Purity"
                    FormBindingSize="@BindingSize"
                    FormPriceUnit="@PriceUnit"
                    FormShowError="ShowError"/>
                <GasCylinderItemForm
                    @ref="_gasCylinderForm"
                    FormPressure="@Pressure"
                    FormVolume="@Volume"
                    FormShowError="ShowError"/>
                break;
            case AssetItemType.Solvent:
                <ChemicalItemForm
                    @ref="_chemicalItemForm"
                    FormCas="@Cas"
                    FormPurity="@Purity"
                    FormBindingSize="@BindingSize"
                    FormPriceUnit="@PriceUnit"
                    FormShowError="ShowError"/>
                break;
        }
    </MudItem>
</MudGrid>

@code
{
    private readonly SelectionMode _selectionMode = SelectionMode.SingleSelection;

}
