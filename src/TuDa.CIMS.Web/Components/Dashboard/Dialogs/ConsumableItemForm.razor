@* Consumable Item Form *@

<MudForm>
    <MudTextField @bind-Value="FormManufacturer"
                  Label=Hersteller
                  Error="@IsError"
                  ErrorText="Der Hersteller muss eingegeben werden!"
                  Placeholder="Hersteller eingeben"
                  Variant="Variant.Filled"
                  FullWidth/>

    <MudTextField @bind-Value="FormSerialNumber"
                  Label="Seriennummer"
                  Error="@IsError"
                  ErrorText="Die Seriennummern muss eingegeben werden!"
                  Placeholder="Seriennummer eingeben"
                  Variant="Variant.Filled"
                  FullWidth/>

    <MudNumericField @bind-Value="FormConsumableAmount"
                     Label="Menge"
                     Error="@IsError"
                     ErrorText="Die Menge muss größer als 0 betragen!"
                     Placeholder="Menge eingeben"
                     Variant="Variant.Filled"
                     FullWidth/>
</MudForm>

@code
{
    [Parameter]
    public string FormManufacturer { get; set; } = string.Empty;

    [Parameter]
    public string FormSerialNumber { get; set; } = string.Empty;

    [Parameter]
    public int FormConsumableAmount { get; set; }

    [Parameter] public bool FormShowError { get; set; }

    private bool IsError => FormShowError && (FormConsumableAmount <= 0 || FormManufacturer == string.Empty || FormSerialNumber == string.Empty);

    public bool ValidateForm()
    {
        if (
            FormManufacturer == string.Empty
            || FormSerialNumber == string.Empty
            || FormConsumableAmount == 0
        )
        {
            return true;
        }
        return false;
    }
}
