@using System.Globalization
@using TuDa.CIMS.Shared.Dtos.Responses
<MudDataGrid Items="@SortedPurchases"
             FixedHeader="@true"
             SortMode="SortMode.None"
             Hover="@true">
    <Columns>
        <PropertyColumn
            Property="@(p => FormatCompletionDate(p))"
            Title="Datum"/>
        <PropertyColumn
            Property="@(p => p.TotalPrice.ToString("C", CultureInfo.GetCultureInfo("de-DE")))"
            Title="Preis"/>
        <TemplateColumn CellClass="d-flex justify-end">
            <CellTemplate>
                <MudIconButton Size="@Size.Small"
                               Icon="@Icons.Material.Outlined.Info"
                               OnClick="@(() => NavigateToPurchase(context.Item))"/>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
    <PagerContent>
        <MudDataGridPager RowsPerPageString="Einkäufe pro Seite:"
                          PageSizeOptions="[ 5, 10, 20 ]"
                          T="PurchaseResponseDto"/>
    </PagerContent>
</MudDataGrid>
<WorkingGroupInvoiceButton></WorkingGroupInvoiceButton>

