@inject IDialogService DialogService
@using TuDa.CIMS.Shared.Entities
@using TuDa.CIMS.Shared.Entities.Enums

@page "/dialog"

<MudButton Color="Color.Primary"
           @onclick="OpenDialogAsync"
           Variant="Variant.Filled">
    Open Product Dialog
</MudButton>

@code {

    private Task OpenDialogAsync()
    {
        var options = new DialogOptions { CloseOnEscapeKey = true };

        //  Example Product
        var product = new Chemical()
        {
            Name = "Example Product",
            Shop = "",
            ItemNumber = "",
            Note = "",
            Id = Guid.NewGuid(),
            Room = new Room() { Name = "", Id = Guid.NewGuid() },
            Price = 12.50,
            Hazards = new List<Hazard>(),
            Cas = "",
            Purity = 0,
            PriceUnit = PriceUnits.PerKilo,
            BindingSize = 0
        };

        var parameters = new DialogParameters
        {
            { "Product", product },
            { "Amount", 1 } // Initial Value _amount
        };

        return DialogService.ShowAsync<ProductDialog>("Amount Input", parameters, options);
    }

}
